# インターネットの仕組み
モデム
ネットワークからの情報を、電話インフラによって管理可能な情報に変換する。（逆も同様に行う）

ISP(Internet Service Provider)
全てをリンクする特別なルーターを管理する会社で、他のISPのルーターにもアクセスできる。
私たちのネットワークからのメッセージは、ISPネットワークのネットワークを通じて宛先のネットワークに運ばれる。
インターネットは、このネットワーク全体のインフラで構成されている。

IPアドレス
ネットワークにリンクしたコンピュータが、自身を識別するための固有のアドレス(例 : 192.168.2.10)

ドメイン名
IPアドレスを人間が覚えやすいように置き換えた名前(例 : google.com)
Domain Name Serverで管理されている

インターネットとウェブ
インターネットは何十億ものコンピュータをすべて接続できる技術インフラのこと。
Webはインフラの上に構築されたサービスのこと 電子メールや  [IRC](https://developer.mozilla.org/ja/docs/Glossary/IRC)  など、インターネット上に構築されたいくつかのサービスがある。

## ウェブの仕組み

### クライアントとサーバー
ウェブに接続されたコンピュータはクライアントとサーバーと呼ばれる
* クライアント
一般的なウェブユーザーが使う、インターネットに接続された端末と、これらの端末で利用できるウェブにアクセスするソフトウェア（chromeなどのウェブブラウザー）のこと
* サーバー
Webページ、サイト、アプリを格納しているコンピュータのこと。
クライアント端末がWebページにアクセスしたいときは、webページのコピーがサーバからクライアントにダウンロードされ、ユーザのWebブラウザに表示される。

### webの仕組みその他
* TCP/IP
Transmission Control Protocol と Internet Protocol は、どのようにウェブ上をデータが動くのか、を定義した通信プロトコルのこと
* DNS
Domain Name Servers はウェブサイトの住所録のようなもの。ウェブアドレス (“mozilla.org” など) とウェブサイトの実際の (IP) アドレスを対応させます。ブラウザーにウェブアドレス（ドメイン名）を入力すると、ブラウザーはウェブサイトを取得する前に DNS を見て、ウェブサイトの本当のアドレス（IPアドレス）を探す。
* HTTP
Hypertext Transfer Protocol は、クライアントとサーバーが対話をする方法を定義するアプリケーション [プロトコル](https://developer.mozilla.org/ja/docs/Glossary/Protocol) のこと。これは商品を注文するための言語のようなもの

1. ブラウザにwebアドレスを打ち込む
2. ブラウザはDNSサーバにアクセスし、打ち込まれたwebアドレスのドメイン名から、IPアドレスを取得する
3. ブラウザはサーバーにHTTPリクエストメッセージを送信して、ウェブサイトのコピーをクライアントに送るように求める。このメッセージおよび、クライアントとサーバ間でやりとりされる全てのデータは、TCP/IPを使用してインターネット経由で送信される
4. サーバがクライアントのリクエストを承認するとサーバはクライアントに「200 OK」というメッセージを送る。そして、Webサイトのファイルをデータパケットと呼ばれる一連の小さな塊（chunk）としてブラウザに送信する。
5. ブラウザはchunkを完全なWebページに組み立て表示する


## ウェブページ、ウェブサイト、ウェブサーバー、検索エンジンの違い
* Webブラウザ
Webページを表示するためのソフトウェア

* Webページ
Webブラウザで表示可能な文章。
さまざまな種類のリソースを埋め込むことができる。
固有のアドレス（IPアドレス）を使用して到達することができる

* webサイト
グループ化され、さまざまな方法で一緒に接続されたWebページの集まり。
固有のドメイン名を共有している。
※一枚だけのWebページを含むWebサイトを単一ページのWebサイトと呼ぶことがある

* webサーバ
インターネット上で１つ以上のWebサイトをホスティングするコンピュータ。「ホスティング」は全てのWebページや補助的なファイルをコンピュータ上で利用できるようにするという意味。webサーバは任意のユーザーのリクエストに応じてホスティング中のWebサイトから任意のWebページをユーザーのブラウザーに送信する。

* 検索エンジン
他のWebサイトを検索するためのウェブサイト
ブラウザを起動したとき、ブラウザが検索エンジンのホームページを表示している。


## HTTPプロトコル
HTTPは通信プロトコルであるTCP/IPの上位に位置するアプリケーションレベルのプロトコルのこと。(TCPプロトコルがないとHTTPプロトコルは使えない)



## ウェブサーバとは
Webサーバという用語はハードウェアまたはソフトウェアあるいはその両方が一緒に動作しているものを指すことがある

*ハードウェア面*
WebサーバはWebサーバソフトウェアとWebサイトの構成ファイル（例えば、HTML文書、画像、CSSスタイルシート、JavaScriptファイルなど）を格納するコンピュータのこと。インターネットに接続し、WEBに接続された他の機器と物理的なデータ交換をサポートする。

*ソフトウェア面*
WEBユーザーがホストされたファイルにアクセスする方法を制御するいくつかの部品が含まれている。
最低限必要なのがHTTPサーバー
HTTPサーバーはURL（webアドレス）とHTTP（ブラウザがWebページを表示するために使用するプロトコル）を理解するソフトウェアである。HTTPサーバーは、格納しているWebサイトのドメイン名からアクセスすることができ、ホストされているWebサイトのコンテンツをエンドユーザーのデバイスに配信している。

基本的な流れ
1. ブラウザがWebサーバにホストさてれいるファイルを必要とするときはいつでもHTTP経由でファイルを要求(HTTPリクエスト)する
2. リクエストが正しいWebサーバに到達するとHTTPサーバ(ソフトウェア)はリクエストを受け入れ、リクエストされたドキュメントを見つけ、同じくHTTP(HTTPレスポンス)でブラウザに送り返す。(サーバーは要求された文書が見つからない場合、代わりに404を返す)

Webサイトを公開するには、静的Webサーバと動的Webサーバのいずれかが必要である

*静的Webサーバ*
HTTPサーバ(ソフトウェア)を備えたコンピュータ(ハードウェア)で構成されている。サーバがホストしているファイルをそのままブラウザに送信するため「静的」と呼んでいる（静的という言葉は、「そのまま提供される」という意味）

*動的Webサーバ*
静的Webサーバに追加ソフトウェア(最も一般的なのは/アプリケーションサーバーと/ /データベース/）を加えたもの。
アプリケーションサーバはHTTPサーバ経由でブラウザにコンテンツを送信する前にホストされているファイルを更新するため、「動的」と呼んでいる。
例えば、ブラウザで見る最終的なWebページを作成するために、アプリケーションサーバはHTMLテンプレートにデータベースからのコンテンツを入れる。MDNやWikipediaのようなサイトには、何千ものWebページがある。一般的に、この種のサイトは何千もの静的なHTML文書ではなく、わずか数個のHTMLテンプレートと巨大なデータベースで構成されている。このような設定により、コンテンツの維持と配信が容易になる

*ファイルのホスティング*
まず、Webサーバーには、Webサイトのファイル、つまりすべてのHTML文書と、それに関連する画像、CSSスタイルシート、JavaScriptファイル、フォント、動画などの資産が保存される。
技術的にはこれらを全て自分のコンピュータでホストすることもできるが、専用のWebサーバにファイルを全て保存する方がはるかに便利である
* 専用Webサーバは、より利用しやすい
* 専用Webサーバは、常にインターネットに接続されている（ダウンタイムやシステムトラブルを除く）
* 専用Webサーバは常に同じIPアドレスを持つことができる。これを専用IPアドレスという。
* 専用Webサーバは通常、サードパーティー（「第三者」という意味の英語。オリジナルメーカーが開発したパソコンや周辺装置、ソフトウェアなどを対象として、それに対応する製品やソフトウェアなどを販売・提供するメーカーのこと。）によって管理される。

*HTTPで通信する*
WebサーバはHTTP（Hypertext Transfer Protocol）をサポートしている。
HTTPはその名の通り、２つのコンピュータ間でハイパーテキスト（リンクされたウェブ文書）を転送する方法を規定している。
プロトコルとは、２台のコンピュータ間で通信するための規則の集合体のこと。HTTPはテキストベースのステートレス（状態を持たない）プロトコル。

* テキスト
コマンドは全て平文で、人間が読むことができる
* ステートレス
サーバもクライアントも以前の通信を覚えていない。
例えば、HTTPだけに頼っていると、サーバはクライアントが入力したパスワードを覚えていないし、不完全なトランザクション（「分割不可な一連の処理」）の進捗を覚えていない。そのような作業にはアプリケーションサーバが必要になる

HTTPはクライアントとサーバがどのように通信するかについて明確なルールを提供している。

通常、HTTPリクエストはクライアントだけが行い、サーバーにしかおこんわない。サーバはクライアントのHTTPリクエストに応答する。サーバはサーバープッシュと呼ばれるメカニズムによってリクエストされる前にデータをクライアントのキャッシュに入れることもできる。

HTTPでファイルを要求する場合、クライアントはファイルのURLを提供する必要がある。

Webサーバは全てのHTTPリクエストに少なくともエラーメッセージで答えなければならない。

















